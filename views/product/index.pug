extends ../layouts/common

block content
  .row
    each product in products
      .col-md-3.p-2
        .card(style="width: 18rem")
          image.card-img-top(src='https://loremflickr.com/320/240')
          .card-body
            h5.card-title= product.name
            p.card-text= product.description
            a.btn.btn-primary(href='/cart/add/' + product._id) Add to cart

    if countPage > 1
      nav.text-center(aria-label="Page navigation")
        ul.pagination
          if page == 1
            li.page-item.disabled
              a.page-link(arial-label="Previous")
                span(arial-hidden="true") &laquo;
          else 
            li.page-item
              a.page-link(href='/product?page=' + (page - 1) , arial-label="Previous")
                span(arial-hidden="true") &laquo;

          - for (var i = 1; i <= countPage; i++)
            if page == i
              li.page-item.active
                a.page-link(href="/product?page=" + i)= i
            else
              li.page-item
                a.page-link(href="/product?page=" + i)= i

          if page == countPage
            li.page-item.disabled
              a.page-link(arial-label="Next")
                span(arial-hidden="true") &raquo;
          else
            li.page-item
              a.page-link(href='/product?page=' + (page + 1), arial-label="Next")
                span(arial-hidden="true") &raquo;

